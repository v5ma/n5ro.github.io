# `hide-sky-ground-ar-mode` Component

The `hide-sky-ground-ar-mode` component for A-Frame is designed to manage the visibility of sky and ground entities when entering and exiting AR mode. It hides the sky and ground when AR mode is activated and restores their visibility when exiting AR mode.

## Usage

### Include the A-Frame Library

Ensure you have the A-Frame library included in your HTML file:

```html
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
Register the Component
Add the following script to register the hide-sky-ground-ar-mode component:

html
Copy code
<script>
    // 1. Register the 'hide-sky-ground-ar-mode' component
    AFRAME.registerComponent('hide-sky-ground-ar-mode', {
        init: function () {
            // 1.1 Initialize properties for the component
            this.skyEl = document.querySelector('a-sky');
            this.groundEl = document.querySelector('#ground');
            
            // 2. Event listener for entering VR/AR mode
            this.el.sceneEl.addEventListener('enter-vr', (ev) => {
                // 2.1 Store the current visibility state of the element
                this.wasVisible = this.el.getAttribute('visible');
                // 2.2 Check if the scene is in AR mode
                if (this.el.sceneEl.is('ar-mode')) {
                    // 2.2.1 Hide the element and add 'ar-mode' class to body
                    this.el.setAttribute('visible', false);
                    document.body.classList.add('ar-mode');
                    this.currentMode = 'ar';
                    // 2.2.2 Hide the sky and ground entities
                    if (this.skyEl) {
                        this.skyEl.setAttribute('visible', false);
                    }
                    if (this.groundEl) {
                        this.groundEl.setAttribute('visible', false);
                    }
                } else {
                    // 2.3 Handle VR mode
                    this.currentMode = 'vr';
                    document.body.classList.add('vr-mode');
                }
            });

            // 3. Event listener for exiting VR/AR mode
            this.el.sceneEl.addEventListener('exit-vr', (ev) => {
                // 3.1 Restore visibility state of the element
                if (this.currentMode === 'ar') {
                    if (this.wasVisible) this.el.setAttribute('visible', true);
                    document.body.classList.remove('ar-mode');
                    // 3.2 Show the sky and ground entities
                    if (this.skyEl) {
                        this.skyEl.setAttribute('visible', true);
                    }
                    if (this.groundEl) {
                        this.groundEl.setAttribute('visible', true);
                    }
                } else if (this.currentMode === 'vr') {
                    document.body.classList.remove('vr-mode');
                }
                this.currentMode = null;
            });
        }
    });
</script>
Define the Scene
Define your A-Frame scene and apply the hide-sky-ground-ar-mode component to the relevant entities:

html
Copy code
<body>
    <!-- Define the A-Frame scene with XR mode UI -->
    <a-scene button xr-mode-ui="XRMode: xr">
        <!-- Add basic shapes to the scene for visual interest -->
        <a-box scale="0.3 0.3 0.3" position="-0.25 0.95 -0.6" rotation="0 55 0" color="#4CC3D9"></a-box>
        <a-sphere position="0 1.15 -1" radius="0.3" color="#EF2D5E"></a-sphere>
        <a-cylinder position="0.275 0.95 -0.6" radius="0.15" height="0.4" color="#FFC65D"></a-cylinder>
        <!-- Add a shiny, transparent emerald box to the scene -->
        <a-box id="emerald" scale="1 0.1 1" position="0 1 -0.75" rotation="0 0 0"
               material="color: #50C878; opacity: 0.5; metalness: 0.6;"></a-box>
        
        <!-- Add a sky entity to the scene -->
        <a-sky color="#87CEEB"></a-sky>
        
        <!-- Add a ground entity with 'hide-sky-ground-ar-mode' component -->
        <a-plane id="ground" rotation="-90 0 0" width="100" height="100" color="#7BC8A4" hide-sky-ground-ar-mode></a-plane>
    </a-scene>
</body>
How It Works
Component Initialization
Initialize Properties:
The component initializes references to the a-sky entity and the ground entity with the ID ground.
Event Listeners
Entering VR/AR Mode:

The component listens for the enter-vr event.
It stores the current visibility state of the element.
Checks if the scene is in AR mode (is('ar-mode')).
If in AR mode:
Hides the element.
Adds the ar-mode class to the body.
Sets the currentMode to ar.
Hides the sky and ground entities.
If in VR mode:
Sets the currentMode to vr.
Adds the vr-mode class to the body.
Exiting VR/AR Mode:

The component listens for the exit-vr event.
If the mode was AR:
Restores the original visibility of the element.
Removes the ar-mode class from the body.
Shows the sky and ground entities.
If the mode was VR:
Removes the vr-mode class from the body.
Resets the currentMode to null.
Purpose
The hide-sky-ground-ar-mode component ensures that the sky and ground entities are hidden when entering AR mode and restored when exiting AR mode. This helps in creating a more immersive AR experience by removing unnecessary background elements and bringing them back when returning to a VR or non-AR mode.

Example
Here is a complete example of an A-Frame scene using the hide-sky-ground-ar-mode component:

html
Copy code
<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
</head>
<script>
    // 1. Register the 'hide-sky-ground-ar-mode' component
    AFRAME.registerComponent('hide-sky-ground-ar-mode', {
        init: function () {
            // 1.1 Initialize properties for the component
            this.skyEl = document.querySelector('a-sky');
            this.groundEl = document.querySelector('#ground');
            
            // 2. Event listener for entering VR/AR mode
            this.el.sceneEl.addEventListener('enter-vr', (ev) => {
                // 2.1 Store the current visibility state of the element
                this.wasVisible = this.el.getAttribute('visible');
                // 2.2 Check if the scene is in AR mode
                if (this.el.sceneEl.is('ar-mode')) {
                    // 2.2.1 Hide the element and add 'ar-mode' class to body
                    this.el.setAttribute('visible', false);
                    document.body.classList.add('ar-mode');
                    this.currentMode = 'ar';
                    // 2.2.2 Hide the sky and ground entities
                    if (this.skyEl) {
                        this.skyEl.setAttribute('visible', false);
                    }
                    if (this.groundEl) {
                        this.groundEl.setAttribute('visible', false);
                    }
                } else {
                    // 2.3 Handle VR mode
                    this.currentMode = 'vr';
                    document.body.classList.add('vr-mode');
                }
            });

            // 3. Event listener for exiting VR/AR mode
            this.el.sceneEl.addEventListener('exit-vr', (ev) => {
                // 3.1 Restore visibility state of the element
                if (this.currentMode === 'ar') {
                    if (this.wasVisible) this.el.setAttribute('visible', true);
                    document.body.classList.remove('ar-mode');
                    // 3.2 Show the sky and ground entities
                    if (this.skyEl) {
                        this.skyEl.setAttribute('visible', true);
                    }
                    if (this.groundEl) {
                        this.groundEl.setAttribute('visible', true);
                    }
                } else if (this.currentMode === 'vr') {
                    document.body.classList.remove('vr-mode');
                }
                this.currentMode = null;
            });
        }
    });
</script>
<body>
    <!-- Define the A-Frame scene with XR mode UI -->
    <a-scene button xr-mode-ui="XRMode: xr">
        <!-- Add basic shapes to the scene for visual interest -->
        <a-box scale="0.3 0.3 0.3" position="-0.25 0.95 -0.6" rotation="0 55 0" color="#4CC3D9"></a-box>
        <a-sphere position="0 1.15 -1" radius="0.3" color="#EF2D5E"></a-sphere>
        <a-cylinder position="0.275 0.95 -0.6" radius="0.15" height="0.4" color="#FFC65D"></a-cylinder>
        <!-- Add a shiny, transparent emerald box to the scene -->
        <a-box id="emerald" scale="1 0.1 1" position="0 1 -0.75" rotation="0 0 0"
               material="color: #50C878; opacity: 0.5; metalness: 0.6;"></a-box>
        
        <!-- Add a sky entity to the scene -->
        <a-sky color="#87CEEB"></a-sky>
        
        <!-- Add a ground entity with 'hide-sky-ground-ar-mode' component -->
        <a-plane id="ground" rotation="-90 0 0" width="100" height="100" color="#7BC8A4" hide-sky-ground-ar-mode></a-plane>
    </a-scene>
</body>
</html>
javascript
Copy code

This documentation provides a detailed explanation of the `hide-sky-ground-ar-mode` component, its usage, and how it works, along with a
